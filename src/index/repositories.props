<?xml version="1.0" encoding="utf-8"?>
<Project ToolsVersion="14.0" DefaultTargets="Build" xmlns="http://schemas.microsoft.com/developer/msbuild/2003">
  <PropertyGroup>
    <VsDevCmd>pushd . &amp; "C:\Program Files (x86)\Microsoft Visual Studio\2017\Enterprise\Common7\Tools\VsDevCmd.bat" &amp; popd</VsDevCmd>
  </PropertyGroup>
  <ItemGroup>
    <Repository Include="corefx">
      <Url>https://github.com/dotnet/corefx</Url>
      <Projects>
        src/*/src/*.csproj;
        src/*/src/*.vbproj;
        src/*/tests/*.csproj;
        src/*/tests/*.vbproj;
      </Projects>
      <PrepareCommand>
        $(VsDevCmd) &amp; build-managed
      </PrepareCommand>
    </Repository>
    <Repository Include="corefxlab">
      <Url>https://github.com/dotnet/corefxlab</Url>
      <Projects>
        src/**/*.csproj;
      </Projects>
      <PrepareCommand>
        $(VsDevCmd) &amp; build
      </PrepareCommand>
    </Repository>
    <Repository Include="coreclr">
      <Url>https://github.com/dotnet/coreclr</Url>
      <Projects>
        src/mscorlib/System.Private.CoreLib.csproj;
      </Projects>
      <PrepareCommand>
        $(VsDevCmd) &amp; run build -Project=build.proj
      </PrepareCommand>
    </Repository>
    <Repository Include="msbuild">
      <Url>https://github.com/Microsoft/msbuild</Url>
      <Branch>master</Branch>
      <DeepClone>true</DeepClone>
      <Projects>
        src/**/*.csproj;
        src/**/*.vbproj;
      </Projects>
      <ExcludeProjects>
        src/Deprecated/**/*.csproj;
        src/Deprecated/**/*.vbproj;
      </ExcludeProjects>
      <PrepareCommand>
        $(VsDevCmd) &amp; build -hostType Core -skipTests -bootstrapOnly
      </PrepareCommand>
    </Repository>
    <Repository Include="wcf">
      <Url>https://github.com/dotnet/wcf</Url>
      <Projects>
        src/System.*/**/*.csproj;
        src/System.*/**/*.vbproj;
      </Projects>
      <PrepareCommand>
        "C:\Program Files (x86)\Microsoft Visual Studio\2017\Enterprise\Common7\Tools\VsDevCmd.bat" &amp; build-managed -SkipTests
      </PrepareCommand>
    </Repository>
  </ItemGroup>
</Project>
